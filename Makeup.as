package  {		import flash.display.MovieClip;	import flash.display.Loader;	import flash.net.URLRequest;	import flash.events.MouseEvent;	import flash.display.BitmapData;	import flash.geom.Matrix;	import flash.geom.Point;		public class Makeup extends MovieClip	{				protected var original_x:int;  //protected for his children ShowPieceInfo		protected var original_y:int;		protected var original_scale:Number;		protected var makeup_img:Loader;		public var clickable:Boolean;		private var info_text:String;				private const TOPLEFT:Point = new Point(450,100);		public function Makeup(makeup_info:XML) 		{			this.clickable = true;			var rawImage:String = makeup_info.imgURL;			original_x = makeup_info.imageX;			original_y = makeup_info.imageY;			original_scale = makeup_info.scaled;						info_text = makeup_info.shortInfo.shortInfoText; // mouse hover's short infotext						if (makeup_info.clickable == 0)			{				this.clickable = false;			}						trace(rawImage);			this.makeup_img = new Loader();			this.makeup_img.load(new URLRequest(rawImage));			addChild(this.makeup_img);						this.resetMe();			makeup_img.addEventListener(MouseEvent.MOUSE_OVER, showTextHandler);			makeup_img.addEventListener(MouseEvent.MOUSE_OUT, closeTextHandler);		}		public function addLayer(newImg:BitmapData)		{			// draw them to the newImg BitmapData object			var m = new Matrix();			m.scale(this.scaleX,this.scaleY);			m.rotate(this.rotation * 0.01);						var newx = this.x - TOPLEFT.x ;//TOPLEFT 是drawing 起始點 (450,100)  UI  所以如果facelist往右移100 TOPLEFT.x 也要往右加100						m.translate(newx,(this.y-TOPLEFT.y));						newImg.draw(makeup_img,m);					}								public function resetMe()		{			this.x = original_x;  //讓clickabole的makeup 在其他位置上 +520			this.y = original_y;			this.scaleX = this.scaleY = original_scale;					}			    private function showTextHandler(e:MouseEvent)		{			//textInfo.visible=true;			Face(parent).showInfoText(info_text); // to control or call his father Face-MovieClip  			                                      //用MovieClip(parent)強制進行形態轉換 去控制 母MovieClip					}				private function closeTextHandler(e:MouseEvent)		{			//textInfo.visible=false;			Face(parent).showInfoText('');					}				}	}